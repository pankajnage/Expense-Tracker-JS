<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Expense App</title>

    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
    </style>


</head>

<body>
    <h1 id="headingTotal"></h1>
    <input id="inputAmount" type="text">
    <input id="inputDesc" type="text">
    <button id="btnAddExpense">+</button>
    <div id="expenseTable"></div>


    <script>
        //get the heading elements
        const headingEl = document.querySelector("#headingTotal")

        //get the reference to input Amount element
        const inputElement = document.querySelector("#inputAmount");

        //get the reference to input desc element
        const inputDescEl = document.querySelector("#inputDesc")

        // get the button element
        const element = document.querySelector("#btnAddExpense")

        //init value of expenses to 0
        let totalExpense = 0;

        // set the heading element to total expense
        headingEl.textContent = totalExpense

        //allExpenses at one place
        const allExpenses = []

        // OnButtonClick and inputAmount to totalExpense
        function addExpenseToTotal() {
            const expenseItem = {}

            // read value from input desc
            const textDesc = inputDescEl.value;

            //get ref to table
            const expenseTblEl = document.querySelector("#expenseTable")

            // read value from inputAmount
            const textAmount = inputElement.value;

            //convert it to number
            const expense = parseInt(textAmount)

            //put it in expenseItem object
            expenseItem.desc = textDesc
            expenseItem.amount = textAmount

            // push expenseItem into array
            allExpenses.push(expenseItem)

            // console.table(allExpenses)

            //add that value to total expense
            totalExpense = totalExpense + expense

            const someText = `Total: $ ${totalExpense}`
                //set the heading element to totalExpense
            headingEl.textContent = someText

            //show tables
            // const data1 = allExpenses[0]
            // const data2 = allExpenses[1]

            // console.log(data1.amount)

            // const data1Text = `${data1.amount} ::  ${data1.desc}`
            // const data2Text = `${data2.amount} ::  ${data2.desc}`

            // const tableText =
            //     `
            //         <div>${data1Text}</div>
            //              <div>${data2Text}</div>
            //     `

            const allExpenseHTML = allExpenses.map((expense) => {
                return `<div>${expense.amount} :: ${expense.desc}</div>`
            })

            const joinedAllExpenses = allExpenseHTML.join("")

            console.log(joinedAllExpenses)

            expenseTblEl.innerHTML = joinedAllExpenses;
        }
        // listen to click event
        element.addEventListener("click", addExpenseToTotal, false)
    </script>
</body>

</html>